{% extends "upload/header.html" %}

{% block content %}
    <div class="jumbotron">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/courses">Courses</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ course.id }}</li>
        </ol>
    </nav>
        <h1 class="display-5">{{ course.title }}</h1>
        <p class="lead">{{ course.id }} - {{ course.prof }}</p>
        <hr class="my-4">
        {% for assignment in assignments %}
            <div class="card">
              <div class="card-body">
                <h5 class="card-title"><a href="/upload/{{ course.id }}/{{ assignment.id }}">{{ assignment.title }}</a></h5>
                {% if assignment.deadline %}
                <small class="text-muted">Due {{ assignment.deadline }}</small>
                {% endif %}
              </div>
            </div>
        {% endfor %}
        {% if not assignments %}
            <p>No assignments yet.</p>
        {% endif %}
        <hr class="my-4">
        {% for submission, files in submissions.items %}
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ submission.assignment.title }}: {{ submission.description }}</h5>
                  {% for file, url, filename in files %}
                    <a href="{{ url }}">{{ filename }}</a><br>
                  {% endfor %}
                <small class="text-muted">{{ submission.submitted_at }}</small>
              </div>
            </div>
            <br>
        {% endfor %}
        <br>
    <a href="/courses" class="btn btn-secondary" role="button"><span class="fas fa-arrow-left"></span> Back to courses</a>
    </div>
{% endblock %}
